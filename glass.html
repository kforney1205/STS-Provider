<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xml:lang="en-us" >
  <head>
    <meta charset="utf-8">
    <title>Emergency Consult Portal - STS Provider</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="stylesheet" href="css/provstyle.css">
    <script type="text/javascript" src="https://pex-gcc.com/static/webrtc/js/pexrtc.js"></script>
    <script type="text/javascript" src="js/webui.js"></script>
    <script type='text/javascript'>
window.onload = function()
{
    /* Params: conf node, conf name, bandwidth, display name, PIN */
    var urlSearchParams = new URLSearchParams(window.location.search);
    var params = Object.fromEntries(urlSearchParams.entries());
    var sessionalias = ("mp" + params.sessionalias);
    initialise("pex-gcc.com", sessionalias, "1264", "Provider", "2021");
}
</script> 
  </head>
  <body>

<div class="framework">
  <div class="item header" align="center"><img src="img/watermark_icon.png"></div>

<div class="item content-video">
  <div class="videoholster">
    <video id="video" playsinline="playsinline" poster="img/BlackHelix.gif" class="mediastream" autoplay="autoplay"/></video>
        <div class="videoControls" align="center">
          <button class="icon playerbtn"><i id="output-tog" class="output-tog" title="mute/unmute your speakers"></i></button>
          <button class="icon playerbtn"><i id="camera-tog" class="camera-tog" title="mute/unmute camera"></i></button>
          <button class="icon playerbtn" onclick="micMute()"><i id="mic-tog" class="mic-tog" title="mute/unmute microphone"></i></button>
          <button class="icon playerbtn" id="fullscreen-tog"><i class="fullscreen-tog" title="make video full screen"></i></button>
          <button class="icon playerbtn" onclick="window.location='index.html';"><i id="disconnect" class="disconnect" title="end session"></i></button>
        </div>
      </div>
  </div>
      
  <div class="item content-emtform"><ul><li>RUN Number XXXXXXXXX</li><li>Patient Name</li><li>Problem: Cupcake ipsum dolor sit amet gummi bears brownie. Sweet candy canes ice cream apple pie dessert I love. Cake jujubes cake chocolate carrot cake tart. Candy canes macaroon jelly-o sweet jelly-o caramels cupcake macaroon. Tiramisu marzipan carrot cake fruitcake biscuit caramels chocolate cake gingerbread pastry. I love sweet roll jelly brownie lemon drops tootsie roll. I love candy tart tiramisu biscuit chocolate bar jelly-o. Jujubes icing lollipop I love marshmallow soufflé shortbread wafer. Apple pie sweet powder caramels jujubes. Icing macaroon cupcake jelly pudding. Cotton candy candy canes cake oat cake cake. Cheesecake jujubes powder tart jelly beans liquorice pudding cookie chupa chups.

Macaroon I love candy canes toffee brownie I love icing lemon drops toffee. Shortbread candy brownie apple pie I love. Cake danish pastry dessert jelly beans macaroon. I love jelly beans chocolate cake jujubes cake gummies I love brownie liquorice. Chupa chups bear claw sugar plum pudding macaroon dragée. Chocolate cake oat cake cake tiramisu biscuit. I love lollipop oat cake ice cream bear claw tart macaroon cotton candy. Cheesecake muffin dragée carrot cake macaroon bonbon bear claw chocolate. Lollipop gummi bears ice cream soufflé carrot cake candy canes gummies jujubes tiramisu. Jelly beans oat cake I love halvah sweet lemon drops I love carrot cake tart. Apple pie I love jujubes cookie sesame snaps tiramisu dragée I love cheesecake. Pastry sweet I love lemon drops cake. Tart tart icing jelly bonbon topping dragée.</li></ul></div>
  <div class="item footer" align="center"><img src="img/PSBrand-PexPowered-White.png"></div>
</div>



<script type="text/javascript">

//Video Nav Elements

var vid_tog = document.querySelector('.camera-tog');
var mic_tog = document.querySelector('.mic-tog');
var output_tog = document.querySelector('.output-tog');
var disc_tog = document.querySelector('.disconnect');
var fullscreen_tog = document.querySelector('.fullscreen-tog');

// Mute and Unmute Camera

vid_tog.addEventListener('click', function(){
    muteVideo = rtc.muteVideo();
    vid_tog.classList.toggle("is-active");
});

// Mute and Unmute Microphone

mic_tog.addEventListener('click', function(){
  muteAudio = rtc.muteAudio();
  mic_tog.classList.toggle("is-active") 
});


// Mute and Unmute Listening Device
var media_stage = document.getElementById("video");
media_stage.muted = false
output_tog.addEventListener('click', function(){
  output_tog.classList.toggle("is-active");
  if (media_stage.muted === true) {
      media_stage.muted = false;
    }
    else if (media_stage.muted === false) {
      media_stage.muted = true;
    }
});


// Disconnect (works but no need to toggle)

disc_tog.addEventListener('click', () => {
    disc_tog.classList.toggle("is-active");
});

// Go Fullscreen (works but no need to toggle, toggle is automatic)

fullscreen_tog.addEventListener('click', () => {
    fullscreen_tog.classList.toggle("is-active");
});


//FullScreen Button


var requestFullscreen = function (ele) {
  if (ele.requestFullscreen) {
    ele.requestFullscreen();
  } else if (ele.webkitRequestFullscreen) {
    ele.webkitRequestFullscreen();
  } else if (ele.mozRequestFullScreen) {
    ele.mozRequestFullScreen();
  } else if (ele.msRequestFullscreen) {
    ele.msRequestFullscreen();
  } else {
    console.log('Fullscreen API is not supported.');
  }
};

var exitFullscreen = function () {
  if (document.exitFullscreen) {
    document.exitFullscreen();
  } else if (document.webkitExitFullscreen) {
    document.webkitExitFullscreen();
  } else if (document.mozCancelFullScreen) {
    document.mozCancelFullScreen();
  } else if (document.msExitFullscreen) {
    document.msExitFullscreen();
  } else {
    console.log('Fullscreen API is not supported.');
  }
};

var fsVidButton = document.getElementById('fullscreen-tog');
var video = document.getElementById('video');

fsVidButton.addEventListener('click', function(e) {
  e.preventDefault();
  requestFullscreen(video);
});

</script>
</body>
</html>